# 开发文档

## 架构

### 表单收集

要实现表单收集的功能，首先需要能够设计数据模型，然后根据数据模型创建表单，数据收集后可以通过视图控制数据的显示。

#### 数据模型

为了对业务场景中概念的抽象进行定义，我们应该使用一种描述语言对概念进行描述，在不同的编程语言中通常有不同的语法定义数据模型，使用通用性更强的语言可以方便对接不同的系统。

通常我们使用json记录数据，而最常用的描述json的数据模型的语言是json-schema，因此我们使用json-schema对数据进行描述。

#### 表单

使用可视化表单配置工具，编辑表单并绑定数据模型，在表单提交后执行绑定的流程，以推动业务的进展，数据模型已经描述了要收集的数据，表单设计要实现表单格式的控制。

#### 持久化

逻辑执行的过程就是数据输入、数据处理和数据输出的过程，数据输出后需要保存起来，以作为其他逻辑的输入。
持久化就是把数据保存到数据库中，没有持久化的数据只是中间产物，用来采集数据或者帮助处理数据。

### 计算逻辑

往往业务人员对代码有恐惧感，所以使用一种强大又简单的编程语言是有必要的，我们选择使用blockly便携javascript程序，业务人员可以使用预设的快搭建出期望的逻辑。

### 流程控制

最流行的流程控制描述语言是bpmn，支持bpmn的库有很多，使用可视化编辑库编辑bpmn文件，然后使用执行引擎执行流程。

## 技术栈

- Typescript
- Nuxt
- Supabase
- JsonForms
- Blockly
- Bpmnjs
- BpmnEngine
